(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,a,t){e.exports=t(58)},33:function(e,a,t){},34:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(25),r=t.n(o);t(33),t(34);var c=function(){return l.a.createElement("div",{className:"navbar navbar-expand-lg navbar-light bg-light mb-3"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item active"},l.a.createElement("a",{className:"nav-link",href:"/"},"Search ",l.a.createElement("span",{className:"sr-only"},"(current)"))),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:"/mybooks"},"My Books")))))},s=t(26),m=t(1),i=t(9);var u=function(e){var a=e.books,t=e.handleAddBook;return l.a.createElement("div",null,l.a.createElement("h3",null,"Results:"),a.map(function(e){return l.a.createElement("div",{key:e.id,className:"card mb-3"},l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("img",{src:e.volumeInfo.imageLinks.thumbnail,alt:""})),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},e.volumeInfo.title),l.a.createElement("p",{className:"card-text"},e.searchInfo.textSnippet),l.a.createElement("p",{className:"small"},e.volumeInfo.authors),l.a.createElement("a",{href:e.volumeInfo.canonicalVolumeLink,target:"_blank",rel:"noopener noreferrer",className:"small btn btn-primary"},"preview"),l.a.createElement("button",{className:"btn btn-warning ml-3",onClick:function(){return t(e)}},"+ Mybooks")))))}))};var d=function(e){var a=e.handleSearchClick,t=e.handleInputChange;return l.a.createElement("form",{onSubmit:a},l.a.createElement("label",{htmlFor:"book-title"},"Book title:"),l.a.createElement("input",{className:"form-control",name:"book-title",type:"text",onChange:t}),l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{type:"submit",className:"btn btn-success text-right mt-3"},"Search")))},v=t(10),b=t.n(v),f={searchBooks:function(e){return b.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"+intitle&printType=books&key=").concat("AIzaSyC2WTD8IlimcTm7oxYt4gVjuNTXz4ELf_g"))},getBooks:function(){return b.a.get("/api/books")},deleteBook:function(e){return console.log("delete book api"),b.a.delete("/api/books/"+e)},saveBook:function(e){return b.a.post("/api/books",e)}};var p=function(){var e=Object(n.useState)(""),a=Object(i.a)(e,2),t=a[0],o=a[1],r=Object(n.useState)([]),c=Object(i.a)(r,2),s=c[0],m=c[1];function v(e){e.preventDefault(),f.searchBooks(t).then(function(e){console.log(e.data.items),m(e.data.items)}).catch(function(e){return console.log(e)})}return Object(n.useEffect)(function(){},[v]),l.a.createElement(l.a.Fragment,null,l.a.createElement(d,{handleSearchClick:v,handleInputChange:function(e){var a=e.target.value;o(a)}}),s&&l.a.createElement(u,{books:s,handleAddBook:function(e){f.saveBook({title:e.volumeInfo.title,description:e.searchInfo.textSnippet,image:e.volumeInfo.imageLinks.thumbnail,authors:e.volumeInfo.authors,link:e.volumeInfo.canonicalVolumeLink,bookId:e.id}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}}))};var E=function(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],o=a[1];function r(){f.getBooks().then(function(e){return o(e.data)}).catch(function(e){return console.log(e)})}return Object(n.useEffect)(function(){r()},[]),l.a.createElement("div",null,l.a.createElement("h3",null,"MyBooks"),t.map(function(e){return l.a.createElement("div",{key:e._id,className:"card mb-3"},l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("img",{src:e.image,alt:""})),l.a.createElement("div",{className:"col-md-10"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h4",{className:"card-title"},e.title),l.a.createElement("p",{className:"card-text"},e.description),l.a.createElement("p",{className:"small"},e.authors),l.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"small btn btn-primary"},"preview"),l.a.createElement("button",{className:"btn btn-danger ml-2",onClick:function(){return a=e._id,console.log("handleDeleteBtn function"),void f.deleteBook(a).then(function(e){return r()}).catch(function(e){return console.log(e)});var a}},"Delete")))))}))};var g=function(){return l.a.createElement("div",{className:"jumbotron text-center"},l.a.createElement("h1",null,"Google Books"),l.a.createElement("p",{className:"lead"}," Search for and Save Books of Interest!"))};var h=function(){return console.log("production"),l.a.createElement(s.a,null,l.a.createElement(c,null),l.a.createElement("div",{className:"container-fluid"},l.a.createElement(g,null),l.a.createElement(m.a,{exact:!0,path:"/",component:p}),l.a.createElement(m.a,{path:"/mybooks",component:E})))};r.a.render(l.a.createElement(h,null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.afcc3cc8.chunk.js.map